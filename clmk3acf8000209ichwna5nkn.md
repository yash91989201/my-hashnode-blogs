---
title: "Understanding HCL configuration in terraform."
seoTitle: "Understanding HCL configuration in terraform"
seoDescription: "Explore HCL configuration in Terraform: learn basic syntax, variables, data types, and create reusable cloud infrastructure code for AWS, GCP, and Azure"
datePublished: Fri Sep 15 2023 04:18:22 GMT+0000 (Coordinated Universal Time)
cuid: clmk3acf8000209ichwna5nkn
slug: understanding-hcl-configuration-in-terraform
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1694751424323/a497bcdf-5436-4b60-ae88-ceaa7b82c709.png
ogImage: https://cdn.hashnode.com/res/hashnode/image/upload/v1694751453558/444dcf60-6be7-4f6d-b75f-0f4006f9b9bb.png
tags: docker, devops, 90daysofdevops, trainwithshubham, terraweekchallenge

---

## üìç Introduction

On the second day of the #TerraWeek challenge, we will be learning about the Hashicorp Configuration Language (HCL) that is used to write terrafrom configuration files.

## ‚úîÔ∏è Basic HCL syntax

A basic terraform file's syntax includes blocks, parameters and arguments let's learn about them one by one.

1. `blocks:` A block is a top-level definition for describing a resource's configuration is found within a pair of curly braces `{}`. All configurations for a resource are defined within these braces. Blocks can also be nested within other blocks to provide resource-specific configurations.
    
    ```yaml
    resource "local_file" "devops" {
        filename = "DevOps.txt"
        content  = "This file is auto generated using terraform"
    }
    ```
    
    In the below example, we are declaring a resource type "local\_file" with "DevOps" as the resource name
    
2. `parameters:` Parameters are used to declare resource-specific attributes, which are required to create the specific resource.
    
    ```yaml
    resource "local_file" "devops" {
        filename = "DevOps.txt"
        content  = "This file is auto generated using terraform"
    }
    ```
    
    In the above example, we are creating a local resource file. In general, to create a file, we need a file name, which we provide using the `filename` parameter. Additionally, we supply some text to the file using the `content` parameter.
    
3. `arguments:` When we assign values to a parameter, they are called arguments. In the above example, the name of the file that was provided was an argument, and the content was also an argument.
    

## ‚úîÔ∏è Variables in HCL

Variables are very useful while writing a terraform configuration file, they allow us to write modular configuration files where the configuration is not dependent on a static value. Variables are defined using a variable block. To maintain code readability we can create a separate file for variables like `variables.tf`

Let's create a local file resource using variables.

```yaml
variable "file_name"{
    default = "/home/ubuntu/devops.txt"
}

variable "file_content"{
    default = "This is autogenerated from a variable"
}
```

Now we can use these variables in our terraform file.

```yaml
resource "local_file" "devops-var"{
    filename = var.file_name
    content = var.file_content
}
```

Now we can directly change the variable file without making any modifications to the terraform file to generate any file with any content.

## ‚úîÔ∏è Data types used in HCL

1. `string:` Represents a sequence of characters. Strings are typically enclosed in double quotes. Example: `"Hello, World!"`.
    
2. `number:` Represents numeric values, including integers and floating-point numbers. Example: `23 or 3.14`.
    
3. `boolean:` Represents true or false values. Example: `true` or `false`.
    
4. `list:` Represents an ordered collection of values. List elements are enclosed in square brackets and separated by commas. Example: `["jenkins", "docker"kubernetes"]`.
    
5. `map:` Represents a collection of key-value pairs. Map elements are enclosed in curly braces, with each key-value pair separated by an equals sign. Example: `{"name" = "Jane doe", "age" = 23 }`.
    

## ‚úîÔ∏è Writing terraform configuration

Let's create a docker container using Terraform. To do this we need a docker provider.

First, in the terraform.tf file we will declare our provider which is docker.

```yaml
terraform {
  required_providers {
    docker = {
      source  = "kreuzwerker/docker"
      version = "3.7.0"
    }
  }
}
```

Creating a resource block for running the nginx docker image.

```yaml
provider "docker" {}

resource "docker_image" "nginx_image" {
    name = "nginx:latest"
    keep_locally = false
}

resource "docker_container" "nginx_container" {
    name = "web-server"
    image = docker_image.nginx_image.name
    ports = {
        internal = 80
        external = 8080
    }
}
```

In the above file, we declare an nginx image resource and then use that to create an nginx container named web-server, this is equivalent to running the following docker command `docker run -itd -p 8080:80 --name web-server nginx:latest`

To finally run the docker container we have to perform `terraform init` (since we have changed Terraform configuration by specifying a new provider), then `terraform plan` and then `terraform apply` to create our container.

## üìç Conclusion

In conclusion, understanding HCL configuration in Terraform is essential for creating and managing infrastructure as code. By learning the basic HCL syntax, using variables, and incorporating data types, you can write modular and reusable Terraform configurations. There are also cloud providers through which we can manage our cloud infrastructure on AWS, GCP or Azure.

In our next blogs we will be writing configurations for managing our infrastructure on aws.